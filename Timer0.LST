C51 COMPILER V9.53.0.0   TIMER0                                                            12/03/2019 18:09:14 PAGE 1   


C51 COMPILER V9.53.0.0, COMPILATION OF MODULE TIMER0
OBJECT MODULE PLACED IN Timer0.OBJ
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE Timer0.c LARGE OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          /*****************************Timer0 handling*******************************/
   2          /*
   3              Nom du fichier: Timer0.c
   4              Auteur : John-William Lebel
   5          
   6              Date de création: 2019-11-29
   7          
   8              Fonction(s) nécessaire(s) pour gérer le timer0
   9          
  10          
  11          *****************************************************************************************/
  12          
  13          //-------------- header files  -----------------
  14          #include "ds89c450.h"       // Définition des bits et des registres du microcontrôleur
  15          #include "Timer0.h"
  16          #include "ProjectDefinitions.h"
  17          
  18            
  19          
  20          // *************************************************************************************************
  21          void initTimer50ms(void)
  22          //
  23          //  Auteur: John-William Lebel
  24          //
  25          //  Description: Initialize a timer that overflows every 50 milliseconds
  26          //  Paramètres d'entrées  : Aucun
  27          //  Paramètres de sortie  : Aucun
  28          //  Notes                 : Aucune
  29          //
  30          // *************************************************************************************************
  31          {
  32   1          TMOD = TMOD & 0xF0;           // Timer0, internal, no control
  33   1          TMOD = TMOD | 0x01;           // external pin, 16 bits counter
  34   1          TL0 = 0x00;                   // overflows every milliseconds
  35   1          TH0 = 0x4C;                   // 
  36   1          TR0 = 1;                      // Start the timer
  37   1      }
  38          
  39          void vUpdateCompteurTimer0(struct Compteur* stCompteur)
  40          {
  41   1        TF0 = 0;
  42   1        stCompteur->ucCompteur300ms++;
  43   1        stCompteur->ucCompteur200ms++;
  44   1        stCompteur->ucCompteur2sec++;
  45   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     38    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
C51 COMPILER V9.53.0.0   TIMER0                                                            12/03/2019 18:09:14 PAGE 2   

END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
